# 챕터2 동작 파라미터화 코드 전달하기
> #### 이 장의 내용
> - 변화하는 요구사항에 대응
> - 동작 파라미터화
> - 익명 클래스
> - 람다 표현식 미리보기
> - 실전 예제: Comparator, Runnable, GUI

**동작 파라미터화(behavior parameterization)** 를 이용하면 자주 바뀌는 요구사항에 효과적으로 대응할 수 있다.
- 동작 파라미터화란 아직은 어떻게 실행할 것인지 결정하지 않은 코드 블록을 의미
- 이 코드 블록은 나중에 프로그램에서 호출
  - 즉, 코드 블록의 실행은 나중으로 미뤄짐
  - 예를 들어 나중에 실행될 메서드의 인수로 코드 블록을 전달할 수 있다.
    - 결과적으로 코드 블록에 따라 메서드의 동작이 파라미터화된다.
- 동작 파라미터화를 추가하려면 쓸데없는 코드가 늘어난다. 자바 8은 람다 표현식으로 이 문제를 해결한다.

## 2.1 변화하는 요구사항에 대응하기

### 2.1.1 첫 번째 시도: 녹색 사과 필터링
> 거의 비슷한 코드가 반복 존재한다면 그 코드를 추상화한다.

### 2.1.2 두 번째 시도: 색을 파라미터화

### 2.1.3 세 번째 시도: 가능한 모든 속성으로 필터링

## 2.2 동작 파라미터화
프레디케이트(Predicate): 참 또는 거짓을 반환하는 함수

전략 디자인 패턴: 각 알고리즘(전략이라 불리는)을 캡술화하는 알고리즘 패밀리를 정의해둔 다음에 런타임에 알고리즘을 선택하는 기법

동작 파라미터화: 메서드가 다양한 동작(또는 전략)을 받아서 내부적으로 다양한 동작을 수행할 수 있다.

### 2.2.1 네 번째 시도: 추상적 조건으로 필터링

#### 코드/동작 전달하기
- test메서드를 구현하는 객체를 이용해서 불리언 표현식 등을 파라미터로 전달함

#### 한 개의 파라미터, 다양한 동작
동작 파라미터의 강점: 컬렉션 탐색 로직과 각 항목에 적용할 동작을 분리할 수 있다

## 2.3 복잡한 과정 간소화
- 인터페이스를 구현하는 여러 클래스를 정의한 다음에 인스턴스화 하는 것은 상당히 번거로운 작업이며 시간 낭비다.
- 자바는 클래스의 선언과 인스턴스화를 동시에 수행할 수 있도록 익명 클래스(anonymous class)라는 기법을 제공한다.
- 익명 클래스를 이용하면 코드의 양을 줄일 수 있다.
- 하지만 익명 클래스가 모든 것을 해결하는 것은 아니다.

### 2.3.1 익명 클래스
**익명 클래스**는 자바의 지역 클래스(블록 내부에 선언된 클래스)와 비슷한 개념이다. 익명 클래스는 말 그대로 이름이 없는 클래스다.
익명 클래스를 이용하면 클래스 선언과 인스턴스화를 동시에 할 수 있다.
- 즉, 즉석에서 필요한 구현을 만들어서 사용할 수 있다.

### 2.3.2 다섯 번째 시도: 익명 클래스 사용
익명 클래스로도 아직 부족한 점이 있다.
1. 여전히 많은 공간을 차지한다.
2. 많은 프로그래머가 익명 클래스의 사용에 익숙하지 않다.
   - 코드의 장황함(verbosity)은 나쁜 특성이다.
     - 장황한 코드는 구현하고 유지보수하는 데 시간이 오래 걸릴 뿐 아니라 읽는 즐거움을 빼앗는 요소로, 개발자로부터 외면받는다.
     - 한눈에 이해할 수 있어야 좋은 코드다.
- 동작 파라미터화를 이용하면 요구사항 변화에 더 유연하게 대응할 수 있으므로 모든 프로그래머가 동작 파라미터화를 사용하도록 권장한다.

### 2.3.3 여섯 번째 시도: 람다 표현식 사용
- 람다를 사용하면 코드를 훨씬 간결하게 만들 수 있다.

### 2.3.4 일곱 번째 시도: 리스트 형식으로 추상화


## 2.4 실전 예제
- 동작 파라미터화 패턴은 동작을 (한 조각의 코드로) 캡슐화한 다음에 메서드로 전달해서 메서드의 동작을 파라미터화한다
  (예를 들면 사과의 다양한 프레디케이트)


## 2.5 마치며
- 동작 파라미터화에서는 메서드 내부적으로 다양한 동작을 수행할 수 있도록 코드를 메서드 인수로 전달한다.
- 동작 파라미터화를 이용하면 변화하는 요구사항에 더 잘 대응할 수 있는 코드를 구현할 수 있으며 나중에 엔지니어링 비용을 줄일 수 있다.
- 코드 전달 기법을 이용하면 동작을 메서드의 인수로 전달할 수 있다. 하지만 자바 8 이전에는 코드를 지저분하게 구현해야 했다.
익명 클래스로도 어느 정도 코드를 깔끔하게 만들 수 있지만 자바 8에서는 인터페이스를 상속받아 여러 클래스를 구현해야 하는 수고를 없앨 수 있는
방법을 제공한다.
- 자바 API의 많은 메서드는 정렬, 스레드, GUI 처리 등을 포함한 다양한 동작으로 파라미터화할 수 있다.

## 챕터2 독후감

---
익명 클래스를 이용해 동작을 파라미터로 전달하는 방법과 그 이유를 배웠고 자바 8부터 제공되는 람다를 활용하면 이 상황에서 코드의
길이가 획기적으로 줄어드는게 눈으로 보였다. 얼른 람다를 공부해서 자유자재로 사용하고 싶어졌다.