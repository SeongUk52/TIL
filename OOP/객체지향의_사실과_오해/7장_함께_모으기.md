# 7장 함께 모으기

> 코드와 모델을 밀접하게 연관시키는 것은 코드에 의미를 부여하고 모델을 적절하게 한다.

- 객체지향 설계 안에 존재하는 세 가지 상호 연관된 관점
  - 개념 관점
    - 개념 관점에서 설계는 도메인 안에 존재하는 개념과 개념들 사이의 관계를 표현한다. 
    - 실제 도메인의 규칙과 제약을 최대한 유사하게 반영하는 것이 핵심
  - 명세 관점
    - 명세 관점에 이르면 사용자의 영역인 도메인을 벗어나 개발자의 역역인 소프트웨어로 초점이 옮겨진다. 명세관점은 도메인의 개념이 아니라
실제로 소프트웨어 안에서 살아 숨쉬는 객체들의 책임에 초점을 맞추게 된다. 즉, 객체들의 인터페이스를 바라보게 된다.
    - 명세 관점에서 프로그래머는 객체가 협력을 위해 '무엇'을 할 수 있는가에 초점을 맞춘다.
    - 인터페이스와 구현을 분리하는 것은 훌륭한 객체지향 설계를 낳는다.
  - 구현 관점
    - 구현 관점은 프로그래머인 우리에게 가장 익숙한 관점으로, 실제 작업을 수행하는 코드와 연관돼 있다.
    - 구현 관점의 초점은 객체들의 책임을 수행하는 데 필요한 동작하는 코드를 작성하는 것이다.
      - 따라서 프로그래머는 객체의 책임을 '어떻게' 수행할 것인가에 초점을 맞추며 인터페이스를 구현하는 데 필요한 속성과 메서드를 클래스에 추가한다.

- 이 세 관점은 동일한 클래스를 세 가지 다른 방향에서 바라보는 것을 의미한다.
- 클래스는 세 가지 관점을 모두 수용할 수 있도록 개념, 인터페이스, 구현을 함께 드러내야 한다. 동시에 코드 안에서 세 가지 관점을 쉽게
식별할 수 있도록 깔끔하게 분리해야 한다.


## 커피 전문점 도메인

### 커피 주문

### 커피 전문점이라는 세상

## 설계하고 구현하기

### 커피를 주문하기 위한 협력 찾기

### 인터페이스 정리하기
- 메시지가 객체를 선택했고, 선택된 객체는 메시지를 자신의 인터페이스로 받아들인다.
- 각 객체를 협력이라는 문맥에서 떼어내어 수신 가능한 메시지만 추려내면 객체의 인터페이스가 된다.
- 객체가 어떤 메시지를 수신할 수 있다는 것은 그 객체의 인터페이스 안에 메시지에 해당하는 오퍼레이션이 존재한다는 것을 의미한다.


- 객체들의 협력은 실행 시간에 컴퓨터 안에서 일어나는 상황을 동적으로 묘사한 모델이다.
- 실제로 소프트웨어의 구현은 동적인 객체가 아닌 정적인 타입을 이용해 이뤄진다.
- 따라서 객체들을 포괄하는 타입을 정의한 후 식별된 오퍼레이션을 타입의 인터페이스에 추가해야 한다.


### 구현하기
> 구현하지 않고 머릿속으로만 구상한 설계는 코드로 구현하는 단계에서 대부분 변경된다. 설계 작업은 구현을 위한 스케치를 작성하는 단계지 구현
> 그 자체일 수는 없다. 중요한 것은 설계가 아니라 코드다. 따라서 협력을 구상하는 단계에 너무 오랜 시간을 쏟지 말고 최대한 빨리 코드를
> 구현해서 설계에 이상이 없는지, 설계가 구현 가능한지를 판단해야 한다. 코드를 통한 피드백 없이는 깔끔한 설계를 얻을 수 없다.


> 설계를 간단히 끝내고 최대한 빨리 구현에 돌입하라. 머릿속에 객체의 협력 구조가 번뜩인다면 그대로 코드를 구현하기 시작하라. 설계가 제대로 그려지지
> 않는다면 고민하지 말고 실제로 코드를 작성해가면서 협력의 전체적인 밑그림을 그려보라. 테스트-주도 설계로 코드를 구현하는 사람들이 하는 작업이 바로
> 이것이다. 그들은 테스트 코드를 작성해 가면서 협력을 설계한다.

## 코드와 세 가지 관점

### 코드는 세 가지 관점을 모두 제공해야 한다

- 다른 사람들이 내 코드를 읽으면서 개념 관점, 명세 관점, 구현 관점을 쉽게 포착하지 못한다면 세 가지 관점이 명확하게 드러날 수 있게 코드를 개선하라.
- 이것이 변경에 유연하게 대응할 수 있는 객체지향 코드를 작성하는 가장 빠른 길이다.


### 도메인 개념을 참조하는 이유
메시지를 수신할 객체를 선택하는 법 -> 도메인 개념 중에서 가장 적절한 것을 선택하는 것

### 인터페이스와 구현을 분리하라
- 명세 관점과 구현 관점의 분리


---
예제를 통해 실제 객체지향 설계를 어떤 식으로 하는지 이해하게 되었다. 이 장에서 배운 내용을 토대로 우테코 프리코스에 도전해봐야겠다.